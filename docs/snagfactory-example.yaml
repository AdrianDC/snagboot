boards:
  "0451:6165": "am625"
  "1f3a:efe8": "a64"

soc-models:
  am625-firmware:
    tiboot3:
      path: "tiboot3_evm.bin"
    tispl:
      path: "tispl_evm.bin"
    u-boot:
      path: "u-boot_evm.img"

  am625-tasks:
    - target-device: mmc0
      fb-buffer-size: 0x7000000

    - task: run
      args:
        - "getvar:version"
        - "download:image.bin"
        - "oem_run:mmc rescan"
        - "flash:1:3"

    - task: gpt
      args:
        - name: boot
          size: 3M
          bootable: True
        - name: rootfs
          size: 1G
          image: "./rootfs.ext4"

    - task: virtual-part
      args:
         - name: rootfs_lba3
           start: 0x22000600
           size: 20M
         - name: boot1
           start: 0
           size: 10M
           hwpart: 1

    - task: flash
      args:
        - part: boot1
          image: "boot.bin"
        - part: rootfs
          image: "rootfs.ext4"

